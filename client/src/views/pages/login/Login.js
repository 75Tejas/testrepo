/* eslint-disable react/no-unescaped-entities */
// /* eslint-disable react/no-unescaped-entities */
// // import React from 'react'
// // import { Link } from 'react-router-dom'
// // import {
// //   CButton,
// //   CCard,
// //   CCardBody,
// //   CCardGroup,
// //   CCol,
// //   CContainer,
// //   CForm,
// //   CFormInput,
// //   CInputGroup,
// //   CInputGroupText,
// //   CRow,
// // } from '@coreui/react'
// // import CIcon from '@coreui/icons-react'
// // import { cilLockLocked, cilUser } from '@coreui/icons'

// // const Login = () => {
// //   return (
// //     <div className="bg-body-tertiary min-vh-100 d-flex flex-row align-items-center">
// //       <CContainer>
// //         <CRow className="justify-content-center">
// //           <CCol md={8}>
// //             <CCardGroup>
// //               <CCard className="p-4">
// //                 <CCardBody>
// //                   <CForm>
// //                     <h1>Login</h1>
// //                     <p className="text-body-secondary">Sign In to your account</p>
// //                     <CInputGroup className="mb-3">
// //                       <CInputGroupText>
// //                         <CIcon icon={cilUser} />
// //                       </CInputGroupText>
// //                       <CFormInput placeholder="Username" autoComplete="username" />
// //                     </CInputGroup>
// //                     <CInputGroup className="mb-4">
// //                       <CInputGroupText>
// //                         <CIcon icon={cilLockLocked} />
// //                       </CInputGroupText>
// //                       <CFormInput
// //                         type="password"
// //                         placeholder="Password"
// //                         autoComplete="current-password"
// //                       />
// //                     </CInputGroup>
// //                     <CRow>
// //                       <CCol xs={6}>
// //                         <CButton color="primary" className="px-4">
// //                           Login
// //                         </CButton>
// //                       </CCol>
// //                       <CCol xs={6} className="text-right">
// //                         <CButton color="link" className="px-0">
// //                           Forgot password?
// //                         </CButton>
// //                       </CCol>
// //                     </CRow>
// //                   </CForm>
// //                 </CCardBody>
// //               </CCard>
// //               <CCard className="text-white bg-primary py-5" style={{ width: '44%' }}>
// //                 <CCardBody className="text-center">
// //                   {/* <div>
// //                     <h2>Sign up</h2>
// //                     <p>
// //                       Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
// //                       tempor incididunt ut labore et dolore magna aliqua.
// //                     </p>
// //                     <Link to="/register">
// //                       <CButton color="primary" className="mt-3" active tabIndex={-1}>
// //                         Register Now!
// //                       </CButton>
// //                     </Link>
// //                   </div> */}
// //                 </CCardBody>
// //               </CCard>
// //             </CCardGroup>
// //           </CCol>
// //         </CRow>
// //       </CContainer>
// //     </div>
// //   )
// // }

// // export default Login

// import React from 'react'
// import { Link } from 'react-router-dom'
// import {
//   CButton,
//   CCard,
//   CCardBody,
//   CCardGroup,
//   CCol,
//   CContainer,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
//   CRow,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex flex-row align-items-center">
//       <CContainer>
//         <CRow className="justify-content-center">
//           <CCol md={8}>
//             <CCardGroup>
//               <CCard className="p-4">
//                 <CCardBody>
//                   <CForm>
//                     <h1>Login</h1>
//                     <p className="text-body-secondary">Sign In to your account</p>
//                     <CInputGroup className="mb-3">
//                       <CInputGroupText>
//                         <CIcon icon={cilUser} />
//                       </CInputGroupText>
//                       <CFormInput placeholder="Username" autoComplete="username" />
//                     </CInputGroup>
//                     <CInputGroup className="mb-4">
//                       <CInputGroupText>
//                         <CIcon icon={cilLockLocked} />
//                       </CInputGroupText>
//                       <CFormInput
//                         type="password"
//                         placeholder="Password"
//                         autoComplete="current-password"
//                       />
//                     </CInputGroup>
//                     <CRow>
//                       <CCol xs={6}>
//                         <CButton color="primary" className="px-4">
//                           Login
//                         </CButton>
//                       </CCol>
//                       <CCol xs={6} className="text-right">
//                         <CButton color="link" className="px-0">
//                           Forgot password?
//                         </CButton>
//                       </CCol>
//                     </CRow>
//                   </CForm>
//                 </CCardBody>
//               </CCard>
//               <CCard
//                 className="text-white bg-primary py-5"
//                 style={{
//                   width: '44%',
//                   backgroundImage:
//                     'url(https://rukminim2.flixcart.com/image/850/1000/l3vxbbk0/cut-out/i/h/0/4-doremon01-yaraprint-original-imagewf2uagyfgza.jpeg?q=90&crop=false)',
//                 }}
//               >
//                 <CCardBody className="text-center">
//                   <div>
//                     <h2>Sign up</h2>
//                     <p>
//                       Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
//                       tempor incididunt ut labore et dolore magna aliqua.
//                     </p>
//                     <Link to="/register">
//                       <CButton color="primary" className="mt-3" active tabIndex={-1}>
//                         Register Now!
//                       </CButton>
//                     </Link>
//                   </div>
//                 </CCardBody>
//               </CCard>
//             </CCardGroup>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default Login

// import React from 'react'
// import { Link } from 'react-router-dom'
// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex">
//       <CContainer fluid className="p-0">
//         <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
//           <CCol className="p-0" style={{ height: '100vh', width: '100vh' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-light">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>
//                       <h1>Login</h1>
//                       <p className="text-body-secondary">Sign in to your account</p>
//                       <CInputGroup className="mb-3">
//                         <CInputGroupText>
//                           <CIcon icon={cilUser} />
//                         </CInputGroupText>
//                         <CFormInput placeholder="Username" autoComplete="username" />
//                       </CInputGroup>
//                       <CInputGroup className="mb-4">
//                         <CInputGroupText>
//                           <CIcon icon={cilLockLocked} />
//                         </CInputGroupText>
//                         <CFormInput
//                           type="password"
//                           placeholder="Password"
//                           autoComplete="current-password"
//                         />
//                       </CInputGroup>
//                       <CButton color="primary" className="px-4" block>
//                         Login
//                       </CButton>
//                       <p className="mt-3 mb-0">
//                         Don't have an account? <Link to="/register">Register here</Link>
//                       </p>
//                     </CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//           <CCol className="p-0" style={{ width: '50%' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-primary text-white">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>{/* Your registration form content goes here */}</CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default Login

// import React from 'react'
// import { Link } from 'react-router-dom'
// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex">
//       <CContainer fluid className="p-0">
//         <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
//           <CCol className="p-0" style={{ height: '100vh', width: '50vh' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-light">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>
//                       <h1>Login</h1>
//                       <p className="text-body-secondary">Sign in to your account</p>
//                       <CInputGroup className="mb-3">
//                         <CInputGroupText>
//                           <CIcon icon={cilUser} />
//                         </CInputGroupText>
//                         <CFormInput placeholder="Username" autoComplete="username" />
//                       </CInputGroup>
//                       <CInputGroup className="mb-4">
//                         <CInputGroupText>
//                           <CIcon icon={cilLockLocked} />
//                         </CInputGroupText>
//                         <CFormInput
//                           type="password"
//                           placeholder="Password"
//                           autoComplete="current-password"
//                         />
//                       </CInputGroup>
//                       <CButton color="primary" className="px-4" block>
//                         Login
//                       </CButton>
//                       <p className="mt-3 mb-0">
//                         Don't have an account? <Link to="/register">Register here</Link>
//                       </p>
//                     </CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//           <CCol className="p-0" style={{ width: '50%' }}>
//             <div
//               className="d-flex justify-content-center align-items-center h-100 bg-primary text-white"
//               style={{
//                 backgroundImage: `url('https://plus.unsplash.com/premium_photo-1666787743042-92a6ee7f46c9?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')`, // Add your image URL here
//                 backgroundSize: 'cover',
//                 backgroundPosition: 'center',
//               }}
//             >
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>{/* Your registration form content goes here */}</CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default Login

//////  main code ///

// import React from 'react'
// import { Link, useNavigate } from 'react-router-dom'

// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   const navigate = useNavigate()

//   const handleLogin = () => {
//     //  Perform login authentication logic here if needed
//     // Redirect to dashboard page
//     navigate('/dashboard')
//   }
// import React from 'react'
// import { Link, useNavigate } from 'react-router-dom'
// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   const navigate = useNavigate()

//   const handleLogin = () => {
//     //  Perform login authentication logic here if needed
//     // Redirect to dashboard page
//     navigate('/dashboard')
//   }

//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex">
//       <CContainer fluid className="p-0">
//         <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
//           <CCol className="p-0" style={{ height: '100vh', width: '50%' }}>
//             <div
//               className="d-flex justify-content-center align-items-center h-100 bg-primary text-white"
//               style={{
//                 backgroundImage: `url('https://images.unsplash.com/photo-1619279302118-43033660826a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')`, // Add your image URL here
//                 backgroundSize: 'cover',
//                 backgroundPosition: 'center',
//               }}
//             >
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>{/* Your registration form content goes here */}</CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//           <CCol className="p-0" style={{ width: '50%' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-light">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>
//                       <h1>Login</h1>
//                       <p className="text-body-secondary">Sign in to your account</p>
//                       <CInputGroup className="mb-3">
//                         <CInputGroupText>
//                           <CIcon icon={cilUser} />
//                         </CInputGroupText>
//                         <CFormInput placeholder="Enter your email" autoComplete="username" />
//                       </CInputGroup>
//                       <CInputGroup className="mb-4">
//                         <CInputGroupText>
//                           <CIcon icon={cilLockLocked} />
//                         </CInputGroupText>
//                         <CFormInput
//                           type="password"
//                           placeholder="Enter your password"
//                           autoComplete="current-password"
//                         />
//                       </CInputGroup>
//                       <CButton color="primary" className="px-4" block>
//                         Login
//                       </CButton>
//                       <p className="mt-3 mb-0">
//                         Don't have an account? <Link to="/register">Register here</Link>
//                       </p>
//                     </CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default Login

////Current working code//

//////////////////

// import React, { useState } from 'react'
// import { Link, useNavigate } from 'react-router-dom'
// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const login = () => {
//   const navigate = useNavigate()
//   const [formData, setFormData] = useState({
//     email: '',
//     password: '',
//   });

//   const handleInputChange = (event) => {
//     const { name, value} = event.target;
//     setFormData{
//       ...formData,
//       [name]: value
//     })
//   }

//   const handleSubmit = async (e) =>{
//     e.preventDefault();
//     try {
//       const resonse = await fetch("http://localhost:5000/auth/login",{
//         method: "POST",
//         headers:{
//           "content-Type": "application/json",

//         },
//         body: JSON.stringify(formData)

//       });
//       const result = await resonse.json();
//       if (result.user._id){
//         navigate("/dashboard");
//         const user = JSON.stringify(result.user);
//         localStorage.setItem("user",user);
//         localStorage.setItem("token",result.token);
//       }
//       else{
//         console.error("signup failed");
//       }
//     }
//     catch (error){
//       console.error(error.message);
//     }
//   }

//   const handleSignUpClick = () =>{
//     navigate("/register");
//   }

//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex">
//       <CContainer fluid className="p-0">
//         <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
//           <CCol className="p-0" style={{ height: '100vh', width: '50%' }}>
//             <div
//               className="d-flex justify-content-center align-items-center h-100 bg-primary text-white"
//               style={{
//                 backgroundImage: `url('https://images.unsplash.com/photo-1619279302118-43033660826a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')`, // Add your image URL here
//                 backgroundSize: 'cover',
//                 backgroundPosition: 'center',
//               }}
//             >
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>{/* Your registration form content goes here */}</CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//           <CCol className="p-0" style={{ width: '50%' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-light">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>
//                       <h1>Login</h1>
//                       <p className="text-body-secondary">Sign in to your account</p>
//                       <CInputGroup className="mb-3">
//                         <CInputGroupText>
//                           <CIcon icon={cilUser} />
//                         </CInputGroupText>
//                         <CFormInput
//                           placeholder="Enter your email"
//                           autoComplete="username"
//                           onKeyDown={handleKeyPress}
//                           value={formData.email}
//                           onChange={handleInputChange}
//                         />
//                       </CInputGroup>
//                       <CInputGroup className="mb-4">
//                         <CInputGroupText>
//                           <CIcon icon={cilLockLocked} />
//                         </CInputGroupText>
//                         <CFormInput
//                           type="password"
//                           placeholder="Enter your password"
//                           autoComplete="current-password"
//                           onKeyDown={handleKeyPress}
//                           value={formData.password}
//                           onChange={handleInputChange}
//                         />
//                       </CInputGroup>
//                       <CButton color="primary" className="px-4" onClick={handleSubmit} block>
//                         Login
//                       </CButton>
//                       <p className="mt-3 mb-0">
//                         Don't have an account? <Link to="/Signup">Register here</Link>
//                       </p>
//                     </CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default login

// import React from 'react'
// // import { Link, useHistory } from 'react-router-dom'
// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   const history = useHistory()

//   const handleLogin = () => {
//     // Perform your login logic here

//     // After successful login, redirect to the dashboard
//     history.push('/dashboard')
//   }

//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex">
//       <CContainer fluid className="p-0">
//         <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
//           <CCol className="p-0" style={{ height: '100vh', width: '50%' }}>
//             <div
//               className="d-flex justify-content-center align-items-center h-100 bg-primary text-white"
//               style={{
//                 backgroundImage: `url('https://images.unsplash.com/photo-1619279302118-43033660826a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')`, // Add your image URL here
//                 backgroundSize: 'cover',
//                 backgroundPosition: 'center',
//               }}
//             >
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>{/* Your registration form content goes here */}</CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//           <CCol className="p-0" style={{ width: '50%' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-light">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>
//                       <h1>Login</h1>
//                       <p className="text-body-secondary">Sign in to your account</p>
//                       <CInputGroup className="mb-3">
//                         <CInputGroupText>
//                           <CIcon icon={cilUser} />
//                         </CInputGroupText>
//                         <CFormInput placeholder="Enter your email" autoComplete="username" />
//                       </CInputGroup>
//                       <CInputGroup className="mb-4">
//                         <CInputGroupText>
//                           <CIcon icon={cilLockLocked} />
//                         </CInputGroupText>
//                         <CFormInput
//                           type="password"
//                           placeholder="Enter your password"
//                           autoComplete="current-password"
//                         />
//                       </CInputGroup>
//                       <CButton color="primary" className="px-4" block onClick={handleLogin}>
//                         Login
//                       </CButton>
//                       <p className="mt-3 mb-0">
//                         Don't have an account? <Link to="/register">Register here</Link>
//                       </p>
//                     </CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default Login

// import React, { useState } from 'react'
// import { Link, useNavigate } from 'react-router-dom'
// import {
//   CContainer,
//   CRow,
//   CCol,
//   CButton,
//   CForm,
//   CFormInput,
//   CInputGroup,
//   CInputGroupText,
// } from '@coreui/react'
// import CIcon from '@coreui/icons-react'
// import { cilLockLocked, cilUser } from '@coreui/icons'

// const Login = () => {
//   const navigate = useNavigate()
//   const [formData, setFormData] = useState({
//     email: '',
//     password: '',
//   })

//   const handleInputChange = (event) => {
//     const { name, value } = event.target
//     setFormData({
//       ...formData,
//       [name]: value,
//     })
//   }

//   const handleSubmit = async (e) => {
//     e.preventDefault()
//     try {
//       const response = await fetch('http://localhost:5000/auth/login', {
//         method: 'POST',
//         headers: {
//           'Content-Type': 'application/json',
//         },
//         body: JSON.stringify(formData),
//       })
//       const result = await response.json()
//       if (result.user._id) {
//         navigate('/dashboard')
//         const user = JSON.stringify(result.user)
//         localStorage.setItem('user', user)
//         localStorage.setItem('token', result.token)
//       } else {
//         console.error('login failed')
//       }
//     } catch (error) {
//       console.error(error.message)
//     }
//   }

//   const handleSignUpClick = () => {
//     navigate('/register')
//   }

//   const handleKeyPress = (e) => {
//     if (e.key === 'Enter') {
//       handleSubmit(e)
//     }
//   }

//   return (
//     <div className="bg-body-tertiary min-vh-100 d-flex">
//       <CContainer fluid className="p-0">
//         <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
//           <CCol className="p-0" style={{ height: '100vh', width: '50%' }}>
//             <div
//               className="d-flex justify-content-center align-items-center h-100 bg-primary text-white"
//               style={{
//                 backgroundImage: `url('https://images.unsplash.com/photo-1619279302118-43033660826a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')`, // Add your image URL here
//                 backgroundSize: 'cover',
//                 backgroundPosition: 'center',
//               }}
//             >
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>{/* Your registration form content goes here */}</CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//           <CCol className="p-0" style={{ width: '50%' }}>
//             <div className="d-flex justify-content-center align-items-center h-100 bg-light">
//               <CContainer>
//                 <CRow className="justify-content-center">
//                   <CCol md={8}>
//                     <CForm>
//                       <h1>Login</h1>
//                       <p className="text-body-secondary">Sign in to your account</p>
//                       <CInputGroup className="mb-3">
//                         <CInputGroupText>
//                           <CIcon icon={cilUser} />
//                         </CInputGroupText>
//                         <CFormInput
//                           placeholder="Enter your email"
//                           autoComplete="username"
//                           onKeyDown={handleKeyPress}
//                           value={formData.email}
//                           onChange={handleInputChange}
//                         />
//                       </CInputGroup>
//                       <CInputGroup className="mb-4">
//                         <CInputGroupText>
//                           <CIcon icon={cilLockLocked} />
//                         </CInputGroupText>
//                         <CFormInput
//                           type="password"
//                           placeholder="Enter your password"
//                           autoComplete="current-password"
//                           onKeyDown={handleKeyPress}
//                           value={formData.password}
//                           onChange={handleInputChange}
//                         />
//                       </CInputGroup>
//                       <CButton color="primary" className="px-4" onClick={handleSubmit} block>
//                         Login
//                       </CButton>
//                       <p className="mt-3 mb-0">
//                         Don't have an account? <Link to="/signup">Register here</Link>
//                       </p>
//                     </CForm>
//                   </CCol>
//                 </CRow>
//               </CContainer>
//             </div>
//           </CCol>
//         </CRow>
//       </CContainer>
//     </div>
//   )
// }

// export default Login

import React, { useState } from 'react'
import { Link, useNavigate } from 'react-router-dom'
import {
  CContainer,
  CRow,
  CCol,
  CButton,
  CForm,
  CFormInput,
  CInputGroup,
  CInputGroupText,
} from '@coreui/react'
import CIcon from '@coreui/icons-react'
import { cilLockLocked, cilUser } from '@coreui/icons'

const Login = () => {
  const navigate = useNavigate()
  const [formData, setFormData] = useState({
    email: '',
    password: '',
  })

  const handleInputChange = (event) => {
    const { name, value } = event.target
    setFormData({
      ...formData,
      [name]: value,
    })
  }

  const handleSubmit = async (e) => {
    e.preventDefault()
    try {
      const response = await fetch('http://localhost:5000/auth/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData),
      })
      const result = await response.json()
      if (result.user._id) {
        navigate('/dashboard')
        const user = JSON.stringify(result.user)
        localStorage.setItem('user', user)
        localStorage.setItem('token', result.token)
      } else {
        let customErrorMessage = 'User not found. Please try again.'
        setErrorMessage(customErrorMessage) // Set custom error message
      }
    } catch (error) {
      console.error(error.message)
    }
  }

  const handleSignUpClick = () => {
    navigate('/register')
  }

  return (
    <div className="bg-body-tertiary min-vh-100 d-flex">
      <CContainer fluid className="p-0">
        <CRow className="m-0" style={{ height: '100vh', width: '100vh' }}>
          <CCol className="p-0" style={{ height: '100vh', width: '50%' }}>
            <div
              className="d-flex justify-content-center align-items-center h-100 bg-primary text-white"
              style={{
                backgroundImage: `url('https://i.postimg.cc/zDJrXdc0/bju.png')`, // Add your image URL here https://images.unsplash.com/photo-1619279302118-43033660826a?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D
                backgroundSize: 'cover',
                backgroundPosition: 'center',
              }}
            >
              <CContainer>
                <CRow className="justify-content-center">
                  <CCol md={8}>
                    <CForm>{/* Your registration form content goes here */}</CForm>
                  </CCol>
                </CRow>
              </CContainer>
            </div>
          </CCol>
          <CCol className="p-0" style={{ width: '50%' }}>
            <div className="d-flex justify-content-center align-items-center h-100 bg-light">
              <CContainer>
                <CRow className="justify-content-center">
                  <CCol md={8}>
                    <CForm>
                      <h1>Login</h1>
                      <p className="text-body-secondary">Sign in to your account</p>
                      <CInputGroup className="mb-3">
                        <CInputGroupText>
                          <CIcon icon={cilUser} />
                        </CInputGroupText>
                        <CFormInput
                          placeholder="Enter your email"
                          autoComplete="username"
                          name="email"
                          value={formData.email}
                          onChange={handleInputChange}
                        />
                      </CInputGroup>
                      <CInputGroup className="mb-4">
                        <CInputGroupText>
                          <CIcon icon={cilLockLocked} />
                        </CInputGroupText>
                        <CFormInput
                          type="password"
                          placeholder="Enter your password"
                          autoComplete="current-password"
                          name="password"
                          value={formData.password}
                          onChange={handleInputChange}
                        />
                      </CInputGroup>
                      <CButton color="primary" className="px-4" onClick={handleSubmit} block>
                        Login
                      </CButton>
                      <p className="mt-3 mb-0">
                        Don't have an account? <Link to="/Signup">Register here</Link>
                      </p>
                    </CForm>
                  </CCol>
                </CRow>
              </CContainer>
            </div>
          </CCol>
        </CRow>
      </CContainer>
    </div>
  )
}

export default Login
